import{c,r as s,e as F,o as N,h as l,T as k,i as q,q as H,F as I,g as x,a6 as E}from"./index.362e36c3.js";import{c as j,h as _,k as L}from"./QBtn.3abc37eb.js";import{R as A,y as K,d as C,g as M,A as O}from"./firebase.c2ed7005.js";const U={ratio:[String,Number]};function W(e,n){return c(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const D=16/9;var X=j({name:"QImg",props:{...U,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:D},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const r=s(e.initialRatio),h=W(e,r);let o;const a=[s(null),s(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],u=s(0),d=s(!1),f=s(!1),w=c(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),p=c(()=>({width:e.width,height:e.height})),z=c(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),P=c(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));F(()=>v(),y);function v(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function y(t){if(clearTimeout(o),f.value=!1,t===null){d.value=!1,a[0].value=null,a[1].value=null;return}d.value=!0,a[u.value].value=t}function T({target:t}){o!==null&&(clearTimeout(o),r.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,S(t,1))}function S(t,g){o===null||g===1e3||(t.complete===!0?Q(t):o=setTimeout(()=>{S(t,g+1)},50))}function Q(t){o!==null&&(u.value=u.value===1?0:1,a[u.value].value=null,d.value=!1,f.value=!1,i("load",t.currentSrc||t.src))}function R(t){clearTimeout(o),d.value=!1,f.value=!0,a[0].value=null,a[1].value=null,i("error",t)}function $(t,g){return l("div",{class:"q-img__container absolute-full",key:t},g)}function b(t){const g=a[t].value,m={key:"img_"+t,class:z.value,style:P.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return u.value===t?(m.class+=" q-img__image--waiting",Object.assign(m,{onLoad:T,onError:R})):m.class+=" q-img__image--loaded",$("img"+t,l("img",m))}function B(){return d.value!==!0?l("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},_(n[f.value===!0?"error":"default"])):l("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[l(L,{color:e.spinnerColor,size:e.spinnerSize})])}return y(v()),N(()=>{clearTimeout(o),o=null}),()=>{const t=[];return h.value!==null&&t.push(l("div",{key:"filler",style:h.value})),f.value!==!0&&(a[0].value!==null&&t.push(b(0)),a[1].value!==null&&t.push(b(1))),t.push(l(k,{name:"q-transition--fade"},B)),l("div",{class:w.value,style:p.value,role:"img","aria-label":e.alt},t)}}}),Y=j({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:i}}=x(),r=q(H);q(I,()=>{console.error("QPage needs to be child of QPageContainer")});const h=c(()=>{const a=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const u=r.isContainer.value===!0?r.containerHeight.value:i.screen.height;return e.styleFn(a,u)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-a+"px":i.screen.height===0?a!==0?`calc(100vh - ${a}px)`:"100vh":i.screen.height-a+"px"}}),o=c(()=>`q-page ${e.padding===!0?" q-layout-padding":""}`);return()=>l("main",{class:o.value,style:h.value},_(n.default))}});const Z=E("project",{state:()=>({proyectos:s([]),proyecto:s([])}),getters:{},actions:{async projectList(){if(!(this.proyectos.length>1))try{(await A(K(C,"project"))).forEach(n=>{let i=n.data();i.id=n.id,this.proyectos.push(i)})}catch(e){console.log(e)}},async getProject(e){if(this.proyecto.length>1){proyecto=[];return}try{const n=M(C,"project",e),i=await O(n);this.proyecto=i.data()}catch(n){console.log(n)}},openProject(e){this.router.push({name:"project",params:{id:e}})}}});export{X as Q,Y as a,Z as u};
